<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_11) on Tue Mar 05 20:49:17 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ScriptLoader (PowerWalk)</title>
<meta name="date" content="2013-03-05">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ScriptLoader (PowerWalk)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ScriptLoader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../powergrid/control/PathFinder.html" title="class in powergrid.control"><span class="strong">Prev Class</span></a></li>
<li><a href="../../powergrid/control/TaskManager.html" title="class in powergrid.control"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?powergrid/control/ScriptLoader.html" target="_top">Frames</a></li>
<li><a href="ScriptLoader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">powergrid.control</div>
<h2 title="Class ScriptLoader" class="title">Class ScriptLoader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>powergrid.control.ScriptLoader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ScriptLoader</span>
extends java.lang.Object</pre>
<div class="block">Loads a script by class name and executes it on the RSBot client. 
 <p/>
 Since a required class is obfuscated, some reflection need to be done on the 
 client. This class can be instantiated, and allows for scripts to load other 
 scripts. This fills in the gap in PowerBot's functionality, where different 
 scripts cannot coorporate.
 <p/>
 A ScriptLoader can be instantiated with either a String denoting an ActiveScript subclass,
 a Class object representing a ActiveScript subclass, or an ActiveScript instance.
 Because of this, ScriptLoader can be used in nearly all situations and setups.
 <p/>
 Special thanks to Float's ScriptInjector class for providing insight into RSBot's
 way of loading and starting scripts.
 <p/>
 <strong>How to use ScriptLoader to run your own plugins from outside RSBot</strong>
 <p/>
 The following example demonstrates how to use ScriptLoader to run plugins 
 without needing to use the RSBot's internal loading mechanism. ScriptLoader will 
 perform all required method calls to start the ActiveScript in RSBot.
 <p/>
 <pre>
 // Create a main method of your own that creates the ScriptLoader instance and starts RSBot
 public static void main(String[] args) {
     // The ActiveScript subclass that will be used.
     // Replace this with your own class.
     Class&lt;? extends ActiveScript&gt; script = MyScript.class;
 
     // Start RSBot using RSBot's own main method
     org.powerbot.Boot.main(args);
 
     // Create the ScriptLoader instance
     ScriptLoader loader = new ScriptLoader(script);
     
     // Alternatively, instantiate the ActiveScript yourself and pass it as an argument.
     // This allows you to configure your script instance before loading it.
     // ScriptLoader loader = new ScriptLoader(new MyScript());
     
     // Create a JFrame with a JButton that runs the Script when clicked
     // (or use any other kind of trigger, whatever fits your needs)
     JFrame f = new JFrame("Launch " + loader.getName());
     JButton startButton = loader.createPlayButton(); // convenience method that delivers a working play/stop button
     startButton.setPreferredSize(new Dimension(240,32));
     f.add(startButton);
     f.pack();
     f.setResizable(false);
     f.setVisible(true);
 }
 </pre>
 <p/>
 The above method will launch RSBot, and after that show a Button that allows the script
 given in the field <code>script</code> to be started by the RSBot client. 
 The script can be stopped using RSBot's native stop button.
 <p/>
 Note that this class provides a light-weight solution to manually loading scripts.
 This is to minimize any delay in RSBot loading time, and also to minimize the amount of 
 reflection done on the RSBot client. ScriptLoader can also be controlled through Java code
 by using the start() and stop() methods of a ScriptLoader instance.
 <p/>
 Another thing to note is that instead of searching the filesystem for classes 
 (like Float's ScriptInjector), ScriptLoader solely depends on Java's Reflect to 
 get the required classes. This means that RSBot has to be included as an external 
 library for ScriptLoader to work.
 <p/>
 One last thing: Feel free to use and/or modify this file to your heart's content, 
 but please provide credit when using it publicly.
 <p/></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#busy">busy</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#running">running</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#stopped">stopped</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../powergrid/control/ScriptLoader.html#ScriptLoader(org.powerbot.core.script.ActiveScript)">ScriptLoader</a></strong>(org.powerbot.core.script.ActiveScript&nbsp;script)</code>
<div class="block">Creates a new ScriptLoader instance that runs the given ActiveScript.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../powergrid/control/ScriptLoader.html#ScriptLoader(java.lang.Class)">ScriptLoader</a></strong>(java.lang.Class&lt;? extends org.powerbot.core.script.ActiveScript&gt;&nbsp;script)</code>
<div class="block">Creates a new ScriptLoader instance that runs an instance of the ActiveScript subclass 
 modeled by the Class object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../powergrid/control/ScriptLoader.html#ScriptLoader(java.lang.String)">ScriptLoader</a></strong>(java.lang.String&nbsp;scriptClassName)</code>
<div class="block">Creates a new ScriptLoader instance linked to the ActiveScript subclass 
 indicated by the given class name.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../powergrid/control/ScriptLoader.html" title="class in powergrid.control">ScriptLoader</a></code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#copyLoader()">copyLoader</a></strong>()</code>
<div class="block">Returns a copy of this ScriptLoader.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>javax.swing.JButton</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#createPlayButton()">createPlayButton</a></strong>()</code>
<div class="block">Creates an easy-to-use button to run the script.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#getName()">getName</a></strong>()</code>
<div class="block">Returns the name of the ActiveScript subclass, as described in the class' Manifest annotation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.powerbot.core.script.ActiveScript</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#getScript()">getScript</a></strong>()</code>
<div class="block">Returns the ActiveScript instance that this ScriptLoader holds.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#getState()">getState</a></strong>()</code>
<div class="block">Determines and returns the state of the ActiveScript.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#logMessage(java.lang.String, java.lang.Throwable)">logMessage</a></strong>(java.lang.String&nbsp;message,
          java.lang.Throwable&nbsp;t)</code>
<div class="block">Logs a message to the console using <code>System.err</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#run()">run</a></strong>()</code>
<div class="block">Instantiates the linked ActiveScript subclass and starts it on the RSBot client.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../powergrid/control/ScriptLoader.html#stop()">stop</a></strong>()</code>
<div class="block">stops the running script.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="stopped">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopped</h4>
<pre>public static final&nbsp;int stopped</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#powergrid.control.ScriptLoader.stopped">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="busy">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>busy</h4>
<pre>public static final&nbsp;int busy</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#powergrid.control.ScriptLoader.busy">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="running">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>running</h4>
<pre>public static final&nbsp;int running</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#powergrid.control.ScriptLoader.running">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ScriptLoader(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ScriptLoader</h4>
<pre>public&nbsp;ScriptLoader(java.lang.String&nbsp;scriptClassName)</pre>
<div class="block">Creates a new ScriptLoader instance linked to the ActiveScript subclass 
 indicated by the given class name.
 <p/></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>scriptClassName</code> - the fully qualified name of the desired ActiveScript subclass.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - when the provided class name does not resemble 
 an available class or the specified class name does not resemble an ActiveScript 
 subclass.</dd></dl>
</li>
</ul>
<a name="ScriptLoader(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ScriptLoader</h4>
<pre>public&nbsp;ScriptLoader(java.lang.Class&lt;? extends org.powerbot.core.script.ActiveScript&gt;&nbsp;script)</pre>
<div class="block">Creates a new ScriptLoader instance that runs an instance of the ActiveScript subclass 
 modeled by the Class object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>script</code> - the ActiveScript subclass that this ScriptLoader will load</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - when <code>script == null</code>, or the 
                                  provided ActiveScript class could not be 
                                  instantiated.</dd></dl>
</li>
</ul>
<a name="ScriptLoader(org.powerbot.core.script.ActiveScript)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ScriptLoader</h4>
<pre>public&nbsp;ScriptLoader(org.powerbot.core.script.ActiveScript&nbsp;script)</pre>
<div class="block">Creates a new ScriptLoader instance that runs the given ActiveScript.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>script</code> - the ActiveScript to run</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - when <code>script == null</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getScript()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScript</h4>
<pre>public&nbsp;org.powerbot.core.script.ActiveScript&nbsp;getScript()</pre>
<div class="block">Returns the ActiveScript instance that this ScriptLoader holds.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the ActiveScript instance</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Returns the name of the ActiveScript subclass, as described in the class' Manifest annotation.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the name of the ActiveScript according to its Manifest, or null if the ActiveScript does
         not have a Manifest annotation</dd></dl>
</li>
</ul>
<a name="getState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;int&nbsp;getState()</pre>
<div class="block">Determines and returns the state of the ActiveScript.
 <p/>
 When this method returns <code>busy</code>, it means that this ScriptLoader
 is performing operations on the Script.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the state of the ActiveScript</dd></dl>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Instantiates the linked ActiveScript subclass and starts it on the RSBot client.
 <p/>
 When this is called once, any further calls to this method are ignored.</div>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">stops the running script.
 <p/>
 If the script is not running, this method does nothing.
 <p/>
 Once a script has been stopped, a new ScriptHandler has to be created to 
 start the script again.</div>
</li>
</ul>
<a name="copyLoader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyLoader</h4>
<pre>public&nbsp;<a href="../../powergrid/control/ScriptLoader.html" title="class in powergrid.control">ScriptLoader</a>&nbsp;copyLoader()</pre>
<div class="block">Returns a copy of this ScriptLoader.
 <p/>
 The copy can be run regardless of the state of this ScriptLoader.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a copy of this ScripLoader</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - when the ActiveScript class has no accessible
                                  parameterless constructor</dd></dl>
</li>
</ul>
<a name="createPlayButton()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPlayButton</h4>
<pre>public&nbsp;javax.swing.JButton&nbsp;createPlayButton()</pre>
<div class="block">Creates an easy-to-use button to run the script. 
 <p/>
 The returned JButton can be placed in any GUI to run the script.
 The button will automatically disable once it has been clicked.
 <p/></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a JButton that can be used to activate this ScriptLoader</dd></dl>
</li>
</ul>
<a name="logMessage(java.lang.String, java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logMessage</h4>
<pre>public static&nbsp;void&nbsp;logMessage(java.lang.String&nbsp;message,
              java.lang.Throwable&nbsp;t)</pre>
<div class="block">Logs a message to the console using <code>System.err</code>. 
 <p/>
 Also displays a StackTrace when the given Throwable is not null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>message</code> - the message to log.</dd><dd><code>t</code> - the throwable that caused the message, can be null</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ScriptLoader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../powergrid/control/PathFinder.html" title="class in powergrid.control"><span class="strong">Prev Class</span></a></li>
<li><a href="../../powergrid/control/TaskManager.html" title="class in powergrid.control"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?powergrid/control/ScriptLoader.html" target="_top">Frames</a></li>
<li><a href="ScriptLoader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
