<HTML>
<HEAD>
<TITLE>
jnimethod.cpp
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#include</font> <font color="maroon">"jnimethod.h"</font>

<font color="blue">namespace</font> jni <font color="black">{</font>
  JNIMethod<font color="black">:</font><font color="black">:</font>JNIMethod<font color="black">(</font><font color="blue">const</font> <font color="blue">char</font><font color="black">*</font> nm, jclass c, jvalue_type ret, <font color="blue">const</font> vector<font color="black">&#60;</font>jvalue_type<font color="black">&#62;</font> args,
                       jboolean stat, jmethodID meth<font color="black">)</font> <font color="black">{</font>
    <font color="blue">name</font> <font color="black">=</font> nm;
    cls <font color="black">=</font> c;
    return_type <font color="black">=</font> ret;
    argument_types <font color="black">=</font> vector<font color="black">&#60;</font>jvalue_type<font color="black">&#62;</font><font color="black">(</font>args<font color="black">)</font>;
    isStatic <font color="black">=</font> stat;
    method <font color="black">=</font> meth;
  <font color="black">}</font>

  jvalue_type JNIMethod<font color="black">:</font><font color="black">:</font>GetArgumentType<font color="black">(</font>uint n<font color="black">)</font> <font color="black">{</font>
    <font color="blue">if</font> <font color="black">(</font>n <font color="black">&#62;</font><font color="black">=</font> argument_types.size<font color="black">(</font><font color="black">)</font><font color="black">)</font> <font color="black">{</font>
      <font color="blue">return</font> JVOID;
    <font color="black">}</font> <font color="blue">else</font> <font color="black">{</font>
      <font color="blue">return</font> argument_types.at<font color="black">(</font>n<font color="black">)</font>;
    <font color="black">}</font>
  <font color="black">}</font>

  jboolean JNIMethod<font color="black">:</font><font color="black">:</font>ValidateInput<font color="black">(</font>vector<font color="black">&#60;</font>JNIValue<font color="black">&#62;</font> arguments<font color="black">)</font> <font color="black">{</font>
    <font color="blue">if</font> <font color="black">(</font>argument_types.size<font color="black">(</font><font color="black">)</font> <font color="black">!</font><font color="black">=</font> arguments.size<font color="black">(</font><font color="black">)</font><font color="black">)</font> <font color="black">{</font>
      <font color="blue">return</font> JNI_FALSE;
    <font color="black">}</font> <font color="blue">else</font> <font color="black">{</font>\
      uint len <font color="black">=</font> arguments.size<font color="black">(</font><font color="black">)</font>;
      <font color="blue">for</font> <font color="black">(</font>uint i <font color="black">=</font> <font color="maroon">0</font>; i <font color="black">&#60;</font> len; i<font color="black">+</font><font color="black">+</font><font color="black">)</font> <font color="black">{</font>
        <font color="blue">if</font> <font color="black">(</font>arguments.at<font color="black">(</font>i<font color="black">)</font>.GetType<font color="black">(</font><font color="black">)</font> <font color="black">!</font><font color="black">=</font> argument_types.at<font color="black">(</font>i<font color="black">)</font><font color="black">)</font> <font color="black">{</font>
          <font color="blue">return</font> JNI_FALSE;
        <font color="black">}</font>
      <font color="black">}</font>
      <font color="blue">return</font> JNI_TRUE;
    <font color="black">}</font>
  <font color="black">}</font>
<font color="black">}</font>

</PRE>
</BODY>
</HTML>
