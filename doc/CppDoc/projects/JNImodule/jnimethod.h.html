<HTML>
<HEAD>
<TITLE>
jnimethod.h
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#ifndef</font> JNIMETHOD_H
<font color="blue">#define</font> JNIMETHOD_H

<font color="blue">#include</font> <font color="maroon">"jni.h"</font>
<font color="blue">#include</font> <font color="maroon">"jnivalue.h"</font>
<font color="blue">#include</font> <font color="maroon">&#60;QtCore&#62;</font>

<font color="blue">namespace</font> jni <font color="black">{</font>
  <font color="blue">using</font> <font color="blue">namespace</font> std;

  <font color="green">// The JNIMethod class represents a method in the Java Environment.</font>
  <font color="green">// It contains information to help identifying the method,</font>
  <font color="green">// since this is extremely hard with only the jmethodID reference.</font>
  <font color="blue">class</font> JNIMethod <font color="black">{</font>
    <font color="blue">private</font><font color="black">:</font>
      QString <font color="blue">name</font>;
      jclass cls;
      jvalue_type return_type;
      vector<font color="black">&#60;</font>jvalue_type<font color="black">&#62;</font> argument_types;
      jmethodID method;
      jboolean isStatic;
    <font color="blue">public</font><font color="black">:</font>
      <font color="green">// Single constructor defining all fields.</font>
      JNIMethod<font color="black">(</font><font color="blue">const</font> <font color="blue">char</font> <font color="black">*</font>nm, jclass c, jvalue_type ret, <font color="blue">const</font> vector<font color="black">&#60;</font>jvalue_type<font color="black">&#62;</font> args,
                jboolean stat, jmethodID meth<font color="black">)</font>;

      <font color="green">// Getters for the fields.</font>
      QString GetName<font color="black">(</font><font color="black">)</font> <font color="black">{</font> <font color="blue">return</font> <font color="blue">name</font>; <font color="black">}</font>
      jclass GetClass<font color="black">(</font><font color="black">)</font> <font color="black">{</font> <font color="blue">return</font> cls; <font color="black">}</font>
      jvalue_type GetReturnType<font color="black">(</font><font color="black">)</font> <font color="black">{</font> <font color="blue">return</font> return_type; <font color="black">}</font>
      jvalue_type GetArgumentType<font color="black">(</font>uint n<font color="black">)</font>;
      jboolean IsStatic<font color="black">(</font><font color="black">)</font> <font color="black">{</font> <font color="blue">return</font> isStatic; <font color="black">}</font>
      jmethodID GetMethodID<font color="black">(</font><font color="black">)</font> <font color="black">{</font> <font color="blue">return</font> method; <font color="black">}</font>
      uint GetArgumentCount<font color="black">(</font><font color="black">)</font> <font color="black">{</font> <font color="blue">return</font> argument_types.size<font color="black">(</font><font color="black">)</font>; <font color="black">}</font>


      <font color="green">// Validates the given vector as input for the method.</font>
      jboolean ValidateInput<font color="black">(</font>vector<font color="black">&#60;</font>JNIValue<font color="black">&#62;</font> arguments<font color="black">)</font>;
  <font color="black">}</font>;
<font color="black">}</font>
<font color="blue">#endif</font> <font color="green">// JNIMETHOD_H</font>

</PRE>
</BODY>
</HTML>
